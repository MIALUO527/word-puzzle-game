<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Word Puzzle Game</title>
  <style>
    :root {
      --accent: #4caf50;
      --wrong: #ffcdd2;
      --correct: #c8e6c9;
      --hint: #fff9c4;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #f9f9f9, #e0f2f1);
      margin: 0;
      padding: 20px;
      text-align: center;
      color: #333;
      max-width: 480px;
      margin-left: auto;
      margin-right: auto;
    }
    h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }
    .hidden { display: none; }
    .category-selection.active,
    .game-section.active {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-top: 16px;
    }
    .category {
      background: white;
      padding: 16px;
      border-radius: 16px;
      box-shadow: var(--shadow);
      cursor: pointer;
      width: 100%;
      transition: transform 0.2s, background 0.3s;
    }
    .category:hover {
      transform: translateY(-5px);
      background: #e8f5e9;
    }
    .status,
    .clue {
      font-size: 18px;
      margin: 12px 0;
    }
    .grid {
      display: flex;
      justify-content: center;
      margin: 10px auto 20px;
      gap: 6px;
      flex-wrap: wrap;
    }
    .cell {
      width: 60px;
      height: 60px;
      background-color: white;
      border: 2px solid #ccc;
      border-radius: 8px;
      font-size: 24px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    }
    .letters {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-top: 8px;
      margin-bottom: 16px;
      padding: 0 8px;
      max-width: 100%;
      box-sizing: border-box;
      min-height: 100px;
    }
    .letter {
      width: 50px;
      height: 50px;
      background-color: var(--hint);
      border: 2px solid #fbc02d;
      border-radius: 10px;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: var(--shadow);
      animation: fadeIn 0.4s ease;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      padding: 0 10px;
      box-sizing: border-box;
      margin-bottom: 20px;
    }
    button {
      background-color: var(--accent);
      color: white;
      border: none;
      padding: 10px 16px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: background 0.3s;
    }
    button:hover {
      background-color: #388e3c;
    }
  </style>
</head>
<body>
  <h1>Word Puzzle Game</h1>
  <div id="categoryPage">
    <div class="category" onclick="startGame('food')">
      <img src="https://img.icons8.com/color/48/000000/meal.png" alt="Food Icon" style="vertical-align: middle; margin-right: 8px;" />
      Food & Drinks
    </div>
    <div class="category" onclick="startGame('animals')">
  <img src="https://img.icons8.com/emoji/48/paw-prints.png" alt="Animal Icon" style="vertical-align: middle; margin-right: 8px;" />
  Animals
</div>
    <div class="category" onclick="startGame('nature')">
      <img src="https://img.icons8.com/color/48/000000/forest.png" alt="Nature Icon" style="vertical-align: middle; margin-right: 8px;" />
      Nature
    </div>
    <div class="category" onclick="startGame('jobs')">
      <img src="https://img.icons8.com/color/48/000000/doctor-male.png" alt="Jobs Icon" style="vertical-align: middle; margin-right: 8px;" />
      Jobs
    </div>
    <div class="category" onclick="startGame('mind')">
      <img src="https://img.icons8.com/color/48/000000/brain.png" alt="Mind Icon" style="vertical-align: middle; margin-right: 8px;" />
      Mind
    </div>
  </div>

  <div id="gamePage" class="hidden">
    <div class="status" id="status">üî• Streak: 0</div>
    <div class="clue" id="clue">Clue: Example</div>
    <div class="grid" id="grid"></div>
    <div class="letters" id="letters"></div>
    <div class="controls">
      <button onclick="loadWord()">üîÑ Retry</button>
      <button onclick="nextLevel()">‚û°Ô∏è Next</button>
      <button onclick="goHome()">üè† Home</button>
    </div>
  </div>

  <script>
    let words = [], current = 0, streak = 0, userAnswer = [];
    const allWordData = {
      food: [ { answer: "APPLE", clue: "A fruit and a tech company" } ],
      animals: [ { answer: "ZEBRA", clue: "Striped animal" } ],
      nature: [ { answer: "OCEAN", clue: "Vast body of saltwater" } ],
      jobs: [ { answer: "DOCTOR", clue: "Treats sick people" } ],
      mind: [ { answer: "BRAIN", clue: "Used for thinking" } ]
    };

    function startGame(category) {
      words = allWordData[category] || [];
      current = 0;
      streak = 0;
      document.getElementById("categoryPage").classList.add("hidden");
      document.getElementById("gamePage").classList.remove("hidden");
      loadWord();
    }

    function loadWord() {
      if (!words[current]) return;
      const { answer, clue } = words[current];
      const grid = document.getElementById("grid");
      const clueBox = document.getElementById("clue");
      const letters = document.getElementById("letters");
      clueBox.textContent = `Clue: ${clue}`;
      grid.innerHTML = '';
      letters.innerHTML = '';
      userAnswer = [];

      answer.split('').forEach((_, i) => {
        const cell = document.createElement("div");
        cell.className = "cell";
        cell.setAttribute("data-index", i);
        cell.addEventListener("click", () => {
          const index = userAnswer.findIndex(entry => entry.cell === cell);
          if (index !== -1) {
            const removed = userAnswer.splice(index, 1)[0];
            cell.textContent = '';
            cell.classList.remove("correct");
            cell.style.backgroundColor = '';
            const restoredTile = createTile(removed.char);
            letters.appendChild(restoredTile);
          }
        });
        grid.appendChild(cell);
      });

      const shuffled = answer.split('').sort(() => Math.random() - 0.5);
      shuffled.forEach(c => {
        letters.appendChild(createTile(c));
      });

      const tools = document.createElement("div");
      tools.style.display = "flex";
      tools.style.justifyContent = "center";
      tools.style.gap = "10px";
      tools.style.marginTop = "10px";

      const backspaceBtn = document.createElement("button");
      backspaceBtn.textContent = "‚Üê Backspace";
      backspaceBtn.onclick = () => {
        const last = userAnswer.pop();
        if (last) {
          last.cell.textContent = '';
          last.cell.classList.remove("correct");
          last.cell.style.backgroundColor = '';
          const restoredTile = createTile(last.char);
          letters.appendChild(restoredTile);
        }
      };

      const shuffleBtn = document.createElement("button");
      shuffleBtn.textContent = "üîÄ Shuffle";
      shuffleBtn.onclick = () => {
        const remainingLetters = [...letters.querySelectorAll(".letter")].map(el => el.textContent);
        letters.innerHTML = '';
        remainingLetters.sort(() => Math.random() - 0.5).forEach(c => letters.appendChild(createTile(c)));
        letters.appendChild(tools);
      };

      tools.appendChild(backspaceBtn);
      tools.appendChild(shuffleBtn);
      letters.appendChild(tools);

      document.getElementById("status").textContent = `üî• Streak: ${streak}`;
    }

    function createTile(c) {
      const tile = document.createElement("div");
      tile.className = "letter animate-in";
      tile.textContent = c;
      tile.addEventListener("click", () => {
        const emptyCell = [...document.querySelectorAll(".cell")].find(cell => cell.textContent === '');
        if (!emptyCell) return;
        emptyCell.textContent = c;
        userAnswer.push({ char: c, cell: emptyCell });
        tile.remove();
        checkAnswer();
      });
      return tile;
    }

    function checkAnswer() {
      if (!words[current]) return;
      const { answer } = words[current];
      const cells = [...document.querySelectorAll(".cell")];
      const result = cells.map(c => c.textContent).join('');
      if (result.length !== answer.length) return;
      let correct = true;
      cells.forEach((cell, i) => {
        const match = cell.textContent === answer[i];
        cell.style.backgroundColor = match ? 'var(--correct)' : 'var(--wrong)';
        if (!match) correct = false;
      });
      if (correct) {
        streak++;
        setTimeout(() => nextLevel(), 1000);
      }
    }

    function nextLevel() {
      current++;
      if (current >= words.length) {
        alert("You've finished all words in this category!");
        goHome();
        return;
      }
      loadWord();
    }

    function goHome() {
      document.getElementById("gamePage").classList.add("hidden");
      document.getElementById("categoryPage").classList.remove("hidden");
    }
  </script>
</body>
</html>
